import{a as $}from"./chunk-WY5APIZQ.js";import"./chunk-G4O4F4ZS.js";import"./chunk-MB5UDTNQ.js";import"./chunk-OWTGQR6U.js";import{F as U,v as Q}from"./chunk-DNVA5LVB.js";import"./chunk-FBOU2ALC.js";import{$b as j,$c as A,Ba as y,Ca as c,D as u,Da as _,Ec as z,Fc as L,G as b,Gc as W,H as T,I as f,Ic as K,Ma as o,Na as p,Nb as w,O as h,Oa as D,P as v,Qa as H,Ra as M,Sa as k,Sb as R,Va as x,_c as q,aa as l,cb as P,db as S,ka as g,ma as s,pa as I,sb as V,uc as O,va as i,vb as B,vc as N,wa as n,xa as E,xb as F}from"./chunk-E4UPHNBD.js";import"./chunk-WWX6BADO.js";var Y=()=>[10,25,50],Z=()=>({width:"95vw"});function ee(e,m){e&1&&(i(0,"tr")(1,"th"),o(2,"From"),n(),i(3,"th"),o(4,"#"),n(),i(5,"th"),o(6,"Date"),n(),i(7,"th"),o(8,"Total"),n(),i(9,"th",11),o(10,"Options"),n()())}function te(e,m){if(e&1){let t=y();i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),n(),i(5,"td"),o(6),n(),i(7,"td"),o(8),P(9,"currency"),n(),i(10,"td")(11,"p-button",12),c("onClick",function(){let a=h(t).$implicit,d=_();return v(d.showInvoiceDialog(a))}),n()(),i(12,"td")(13,"p-button",13),c("onClick",function(){let a=h(t).$implicit,d=_();return v(d.approvePendingInvoice(a))}),n()()()}if(e&2){let t=m.$implicit;l(2),p(t.first_name),l(2),p(t.invoice_number||"---"),l(2),p(t.order_date),l(2),p(S(9,4,t.total_price))}}function ie(e,m){e&1&&(i(0,"tr")(1,"td",14),o(2,"No Records Found!"),n()())}function ne(e,m){e&1&&(i(0,"tr")(1,"th",17),o(2,"Description"),n(),i(3,"th",18),o(4,"Unit Price"),n(),i(5,"th",19),o(6,"Qty"),n()())}function oe(e,m){if(e&1&&(i(0,"tr")(1,"td"),o(2),n(),i(3,"td"),o(4),P(5,"currency"),n(),i(6,"td"),o(7),n()()),e&2){let t=m.$implicit;l(2),p(t.product_name),l(2),D(" ",S(5,3,t.unit_price)," "),l(3),p(t.quantity)}}function ae(e,m){e&1&&E(0,"tr")}function re(e,m){if(e&1&&(i(0,"p-table",16),g(1,ne,7,0,"ng-template",5)(2,oe,8,5,"ng-template",6)(3,ae,1,0,"ng-template",10),n()),e&2){let t=_(2);s("value",t.invoiceItems)}}function le(e,m){if(e&1&&g(0,re,4,1,"p-table",15),e&2){let t=_();s("ngIf",t.invoiceItems.length!=0)}}function me(e,m){if(e&1){let t=y();i(0,"button",20),c("click",function(){h(t);let a=_();return v(a.hideInvoiceDialog())}),n()}}var J=(()=>{class e{constructor(){this.pendingService=b($),this.confirmationService=b(R),this.pendingInvoices=this.pendingService.pendingInvoices,this.pendingLoading=this.pendingService.pendingLoading,this.detailsDialogVisible=!1,this.refreshTable()}showInvoiceDialog(t){this.invoiceItems=t.items,this.detailsDialogVisible=!0}hideInvoiceDialog(){this.detailsDialogVisible=!1}approvePendingInvoice(t){this.confirmationService.confirm({key:"home",message:"Are you sure that you want approve invoice?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.pendingService.approvePendingInvoice(t)}})}refreshTable(){this.pendingService.fetchPendingInvoices()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=T({type:e,selectors:[["app-pending-home"]],decls:12,vars:16,consts:[[1,"grid","m-1"],[1,"col-12","md:col-8","md:col-offset-2"],[1,"text-center"],["label","Refresh","icon","pi pi-refresh","styleClass","mb-2","size","small",3,"onClick","loading"],["dataKey","order_id","styleClass","p-datatable-sm",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Details","position","top",3,"visibleChange","onHide","visible","modal","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],["colspan","2","width","4%"],["size","small","severity","contrast","icon","fas fa-eye",3,"onClick"],["size","small","severity","success","icon","fas fa-check",3,"onClick"],["colspan","11"],["dataKey","order_item_id","styleClass","p-datatable-sm",3,"value",4,"ngIf"],["dataKey","order_item_id","styleClass","p-datatable-sm",3,"value"],["width","50%"],["width","30%"],["width","20%"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-secondary",3,"click"]],template:function(r,a){r&1&&(i(0,"div",0)(1,"div",1)(2,"p-card")(3,"div",2)(4,"p-button",3),c("onClick",function(){return a.refreshTable()}),n()(),i(5,"p-table",4),g(6,ee,11,0,"ng-template",5)(7,te,14,6,"ng-template",6)(8,ie,3,0,"ng-template",7),n()()()(),i(9,"p-dialog",8),k("visibleChange",function(C){return M(a.detailsDialogVisible,C)||(a.detailsDialogVisible=C),C}),c("onHide",function(){return a.hideInvoiceDialog()}),g(10,le,1,1,"ng-template",9)(11,me,1,0,"ng-template",10),n()),r&2&&(l(4),s("loading",a.pendingLoading()),l(),s("value",a.pendingInvoices())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",x(14,Y))("alwaysShowPaginator",!1)("loading",a.pendingLoading()),l(4),I(x(15,Z)),H("visible",a.detailsDialogVisible),s("modal",!0)("closable",!0)("maximizable",!0))},dependencies:[V,O,j,Q,z,L,q,B],styles:["[_nghost-%COMP%]  .p-button.p-button-sm{padding:.3rem .9rem!important}[_nghost-%COMP%]  .p-button.p-button-icon-only{width:2rem}[_nghost-%COMP%]  .p-card .p-card-body{padding:.5rem!important}[_nghost-%COMP%]  .p-card-content{padding-top:0!important}"]})}}return e})();var pe=[{path:"",component:J}],X=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=f({type:e})}static{this.\u0275inj=u({imports:[w.forChild(pe),w]})}}return e})();var Ve=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=f({type:e})}static{this.\u0275inj=u({imports:[F,X,N,U,W,K,A]})}}return e})();export{Ve as PendingDeliveryModule};
